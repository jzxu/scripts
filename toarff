awk '
BEGIN {
	FS = "[ 	;,]+"
}
{
	sub("^[ 	]+", "")
	sub("[ 	]+$", "")
}
NF > 0 {
	if (NF > maxfields) {
		maxfields = NF
	}
	s = $1
	for (i = 2; i <= NF; ++i) {
		s = s "," $i
	}
	lines[NR] = s
}
END {
	print "@RELATION r"
	for (i = 0; i < maxfields; i++) {
		printf("@ATTRIBUTE x%d NUMERIC\n", i);
	}
	print "@DATA"
	for (i = 1; i <= NR; i++) {
		print lines[i]
	}
}' $*
